<!-- <mat-card>
    <mat-card-subtitle>Everything on this demo site is live/working condition. Creating a profile, sending emails, donating
        money, uploading profile pictures and more.</mat-card-subtitle>
</mat-card>

<app-github-readme></app-github-readme>

<ng-container *ngIf="!isProcessing">
    <app-item *ngFor="let item of items"
        [item]="item"></app-item>
</ng-container>

<mat-card *ngIf="!isProcessing && (!items || items?.length === 0) && networkStatus.isOnline">
    No items exist
</mat-card>

<app-network-status #networkStatus></app-network-status>

<mat-spinner *ngIf="isProcessing"></mat-spinner> -->

<div class="container">

    <!-- Countdown -->
    <div *ngIf="showCountdownOne || showCountdownTwo || showCountdownThree"
        style="position: relative; z-index: 1; display: flex; justify-content: center; align-items: center; height: 100%; background-color: red;">
        <img *ngIf="showCountdownOne"
            src="assets/game/one.svg"
            class="countdown" />
        <img *ngIf="showCountdownTwo"
            src="assets/game/two.svg"
            class="countdown" />
        <img *ngIf="showCountdownThree"
            src="assets/game/three.svg"
            class="countdown" />
    </div>

    <div #screen
        class="sled-present-container">
        <!-- Toolbar -->
        <div>
            <img #sled
                class="sled"
                src="assets/game/sled.svg" />
            <span style="right: 10%; position: absolute;">
                <span style="background-color: #fff; padding: 8px; border-radius: 8px;">Score {{score}}</span>
                <span *ngIf="bestScore"
                    style="background-color: #fff; padding: 8px; border-radius: 8px;">Best score {{bestScore}}</span>
                <span>
                    <button mat-raised-button
                        (click)="openMenu()">Menu</button>
                </span>
            </span>
        </div>

        <!-- Presents -->
        <div *ngFor="let item of createArray(presents)"
            class="present"
            [style.animation-duration]="presentDropAnimationDuration + 'ms'"
            [style.width]="presentWidth + 'px'">
            <img src="assets/game/present.svg" />
        </div>
    </div>

    <!-- Background -->
    <div #background
        class="bg">

        <div *ngFor="let item of housePositions"
            class="house"
            [style.left]="item + 'px'"
            [style.width]="houseWidth + 'px'">
            <img src="assets/game/house.svg" />
        </div>

    </div>

    <!-- Menu -->
    <div *ngIf="showMenu"
        style="position: absolute; top: 0; right: 0; left: 0; z-index: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; background-color: blue;">
        <button mat-raised-button
            routerLink="/home/levels">Levels</button>
        <button mat-raised-button
            (click)="closeMenu()">Resume</button>
        <button mat-raised-button
            (click)="restart()">Restart</button>
    </div>

    <!-- Menu -->
    <div *ngIf="showEndScreen"
        style="position: absolute; top: 0; right: 0; left: 0; z-index: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; background-color: yellow;">

        <h2>Score {{score}}</h2>
        <h2 *ngIf="score > bestScore">New high score!!</h2>

        <button mat-raised-button
            routerLink="/home/levels">Levels</button>
        <button mat-raised-button
            (click)="restart()">Replay</button>
    </div>
</div>

<!-- TODO: improve. Dirty hack to preload image -->
<img src="assets/game/present.svg"
    style="display: none;" />